<!--
 * Copyright 2014 Stephan Knitelius.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
-->
<!doctype html>
<html xmlns:ng="http://angularjs.org" ng-app="messageApp">
    <head>
        <meta charset="utf-8">
        <title>angularJS-JEE6-Sample</title>
        <script src="js/libs/angular.js/angular.js"></script>
        <script src="js/libs/angular.js/angular-resource.js"></script>
        <script src="js/libs/jquery/jquery.js"></script>
        <script src="js/app.js"></script>
        <link rel="stylesheet" href="css/bootstrap.css" />
    </head>
    <body ng-controller="messageCtrl">
        <div>
            <span id="msgNotification">MessageNotification: {{messageEvent}}</span>
            <span id="msgSubmitted">Message Submitted: {{comp}}</span>
            <span>cid: {{cid}}</span>
        </div>
        <div id="msgInputArea" class="form-inline">
            <label>Subject:</label> <input ng-model="message.subject" class="form-control"/>
            <label>Message:</label> <input ng-model="message.content" class="form-control"/>
            <button ng-click="newMessage()" class="btn btn-default">Submit</button>
        </div>
        <div id="msgOutputArea">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Subject</th>
                        <th>Content</th>
                        <th></th>
                    </tr>
                </thead>
                <tr ng-repeat="msg in messages">
                    <td>{{msg.id}}</td>
                    <td><input ng-model="msg.subject" ng-change="updateMessage(msg)" class="form-control"/></td>
                    <td><input ng-model="msg.content" ng-change="updateMessage(msg)" class="form-control"/></td>
                    <td>
                        <button ng-click="deleteMessage(msg)" class="btn btn-danger">delete</button>
                    </td>
                </tr>
            </table>
        </div>
    </body>
</html>
